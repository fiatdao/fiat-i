// SPDX-License-Identifier: AGPL-3.0-or-later
pragma solidity ^0.8.4;

import {IPriceCalculator} from "./IPriceCalculator.sol";
import {ICodex} from "./ICodex.sol";
import {ICollybus} from "./ICollybus.sol";
import {IAer} from "./IAer.sol";
import {ILimes} from "./ILimes.sol";

interface CollateralAuctionCallee {
    function collateralAuctionCall(address, uint256, uint256, bytes calldata) external;
}

interface ICollateralAuction {
    function vaults(address) external view returns (uint256, uint256, uint256, uint256, ICollybus, IPriceCalculator);

    function codex() external view returns (ICodex);

    function limes() external view returns (ILimes);

    function aer() external view returns (IAer);

    function feeTip() external view returns (uint64);

    function flatTip() external view returns (uint192);

    function auctionCounter() external view returns (uint256);

    function activeAuctions(uint256) external view returns (uint256);

    function auctions(
        uint256
    ) external view returns (uint256, uint256, uint256, address, uint256, address, uint96, uint256);

    function stopped() external view returns (uint256);

    function init(address vault, address collybus) external;

    function setParam(bytes32 param, uint256 data) external;

    function setParam(bytes32 param, address data) external;

    function setParam(address vault, bytes32 param, uint256 data) external;

    function setParam(address vault, bytes32 param, address data) external;

    function startAuction(
        uint256 debt,
        uint256 collateralToSell,
        address vault,
        uint256 tokenId,
        address user,
        address keeper
    ) external returns (uint256 auctionId);

    function redoAuction(uint256 auctionId, address keeper) external;

    function takeCollateral(
        uint256 auctionId,
        uint256 collateralAmount,
        uint256 maxPrice,
        address recipient,
        bytes calldata data
    ) external;

    function count() external view returns (uint256);

    function list() external view returns (uint256[] memory);

    function getStatus(
        uint256 auctionId
    ) external view returns (bool needsRedo, uint256 price, uint256 collateralToSell, uint256 debt);

    function updateAuctionDebtFloor(address vault) external;

    function cancelAuction(uint256 auctionId) external;
}
